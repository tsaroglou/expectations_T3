{% extends "global/Page.html" %}
{% load otree static %}

{% block styles %}
    <style>
        .content-section {
            margin-top: 2rem;
        }
        .content-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #007BFF;
        }
        .content-section p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .content-section .highlight {
            font-weight: bold;
            color: #007BFF;
        }
        .example {
            background-color: #F8F9FA;
            padding: 1rem;
            border-radius: 0.25rem;
            margin-bottom: 1rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
        }
        .example p {
            margin-bottom: 0.5rem;
        }
        .container {
            background-color: #F8F9FA;
            border-radius: 0.25rem;
            padding: 2rem;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        hr {
            border: 0;
            border-top: 1px solid #007BFF;
        }
    </style>
{% endblock styles %}

{% block content %}
    <div class="container mt-5 p-4">
        <h1 class="text-center mb-4">Test Payment Mechanism</h1>

        <hr class="my-4">

        <div class="content-section">
            <p>You are about to take the test. As explained in the previous screen, each time you give  <span class="highlight">  an incorrect response or leave a question empty, you will receive 0 points. Each time you give <span class="highlight">a correct response, you will receive 1 point with a 70% probability and 0 points with a 30% probability.</span></p>
            <p>Your payment from this part will be determined <span class="highlight"> proportionally </span> by the percentage of the total points you will score in the test, therefore, the maximum amount you can win is <span class="highlight">2.5 Euros</span>. </p><p> So, your payment is calculated as follows:</p>
            <p><strong>Test Payment = [Total Point Score]% Ã— 2.5 Euros</strong></p>
        </div>

        <p>If the above explanation is not clear to you, below you can view different combinations point scores and test earnings:</p>

        <div class="example">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Test Point Score</th>
                        <th>Percentage of Points</th>
                        <th>Payment from Test</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>0</td>
                        <td>0%</td>
                        <td>0 Euros</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>33.33%</td>
                        <td>0.83 Euros</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>66.66%</td>
                        <td>1.66 Euros</td>
                    </tr>
                    <tr>
                        <td>15</td>
                        <td>100%</td>
                        <td>2.5 Euros</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="text-center mt-4">
            Now that you are informed regarding the test payment mechanism, you can continue to the test.
        </div>

        <!-- Countdown Timer -->
        <div id="countdown" style="display: none; font-weight: bold; color: red; font-size: 1.5rem; text-align: center; margin-top: 20px;">
            You will be removed from the experiment in <span id="countdown-timer">60</span> seconds if you do not proceed.
        </div>

    </div>

    <br>
    {% next_button %}

    <!-- Countdown Timer Script -->
    <script>
        var totalTime = 180;  // Total time in seconds (180 seconds = 3 minutes)
        var countdownStartTime = 60;  // Countdown starts when there are 60 seconds left
        var countdownTimer = document.getElementById("countdown-timer");
        var countdownDiv = document.getElementById("countdown");

        var interval = setInterval(function() {
            totalTime--;

            if (totalTime <= countdownStartTime) {
                countdownDiv.style.display = "block";  // Show the countdown timer
                countdownTimer.textContent = totalTime - countdownStartTime;  // Display remaining countdown time
            }

            if (totalTime <= 0) {
                clearInterval(interval);  // Stop the countdown when time is up
            }
        }, 1000);  // Update every second
    </script>

{% endblock %}
